"use strict";(self.webpackChunkauthFront=self.webpackChunkauthFront||[]).push([[719],{8719:(J,l,i)=>{i.r(l),i.d(l,{HistoryModule:()=>R});var m=i(6814),c=i(293),t=i(5879),h=i(953);let p=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-history-layout"]],decls:2,vars:0,template:function(a,s){1&a&&t._UZ(0,"app-component-navbar")(1,"router-outlet")},dependencies:[c.lC,h.S]})}return e})();var d=i(2425),f=i(9862),g=i(9413);let y=(()=>{class e{constructor(){this.baseUrl=g.N.baseUrl,this.http=(0,t.f3M)(f.eN)}getHistories(){return this.http.get(`${this.baseUrl}/convert/all`)}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var C=i(4567),u=i(2296),r=i(9221);function v(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," Fecha creado "),t.qZA())}function T(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.date,"dd/MM/yyyy:HH:mm")," ")}}function Z(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Usuario"),t.qZA())}function x(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.username," ")}}function H(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Rol"),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",1===o.rol?"Ejecutivo":"Administrador"," ")}}function U(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," Monto origen "),t.qZA())}function A(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.originAmount," ")}}function N(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," Fecha conversi\xf3n "),t.qZA())}function _(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.dateConvert)}}function M(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Valor UF"),t.qZA())}function Y(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij("$",o.valueUF,"")}}function D(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," Total CLP "),t.qZA())}function F(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.valueCLP)}}function b(e,n){1&e&&t._UZ(0,"tr",18)}function B(e,n){1&e&&t._UZ(0,"tr",19)}let Q=(()=>{class e{constructor(){this.historyService=(0,t.f3M)(y),this.router=(0,t.f3M)(c.F0),this.modal=(0,t.f3M)(d._W),this.authService=(0,t.f3M)(C.e),this.histories=[],this.displayedColumns=["username","rol","originAmount","dateConvert","valueUF","valueCLP","date"]}ngOnInit(){this.getHistories()}getHistories(){this.historyService.getHistories().subscribe({next:o=>this.histories=o,error:o=>{this.modal.error("Error",o),this.authService.logout()}})}goToCalculate(){this.router.navigateByUrl("/convert")}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-history-page"]],decls:30,vars:3,consts:[[1,"title"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","date"],["class","mat-header-row","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","rol"],["matColumnDef","originAmount"],["matColumnDef","dateConvert"],["matColumnDef","valueUF"],["matColumnDef","valueCLP"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"btn-go-calculate"],["mat-raised-button","","color","accent",1,"centered-button",3,"click"],["mat-header-cell","",1,"mat-header-row"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(a,s){1&a&&(t.TgZ(0,"h1",0),t._uU(1,"Historial de conversiones"),t.qZA(),t.TgZ(2,"div",1)(3,"table",2),t.ynx(4,3),t.YNc(5,v,2,0,"th",4),t.YNc(6,T,3,4,"td",5),t.BQk(),t.ynx(7,6),t.YNc(8,Z,2,0,"th",4),t.YNc(9,x,2,1,"td",5),t.BQk(),t.ynx(10,7),t.YNc(11,H,2,0,"th",4),t.YNc(12,P,2,1,"td",5),t.BQk(),t.ynx(13,8),t.YNc(14,U,2,0,"th",4),t.YNc(15,A,2,1,"td",5),t.BQk(),t.ynx(16,9),t.YNc(17,N,2,0,"th",4),t.YNc(18,_,2,1,"td",5),t.BQk(),t.ynx(19,10),t.YNc(20,M,2,0,"th",4),t.YNc(21,Y,2,1,"td",5),t.BQk(),t.ynx(22,11),t.YNc(23,D,2,0,"th",4),t.YNc(24,F,2,1,"td",5),t.BQk(),t.YNc(25,b,1,0,"tr",12),t.YNc(26,B,1,0,"tr",13),t.qZA()(),t.TgZ(27,"div",14)(28,"button",15),t.NdJ("click",function(){return s.goToCalculate()}),t._uU(29," Volver "),t.qZA()()),2&a&&(t.xp6(3),t.Q6J("dataSource",s.histories),t.xp6(22),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns))},dependencies:[u.lW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,m.uU],styles:[".table-container[_ngcontent-%COMP%]{position:relative;left:50%;transform:translate(-50%);width:90%}table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{overflow-y:auto;height:600px}.mat-table[_ngcontent-%COMP%]{table-layout:fixed}.mat-header-row[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#673ab7!important;color:#fff;z-index:1;font-size:1rem}.btn-go-calculate[_ngcontent-%COMP%]{margin-top:10px;text-align:center;width:100%}.title[_ngcontent-%COMP%]{width:100%;margin-top:60px;margin-bottom:20px;font-size:2.5rem;text-align:center}"]})}return e})();const j=[{path:"",canActivate:[i(7401).F],component:p,children:[{path:"all",component:Q},{path:"**",redirectTo:"all"}]}];let w=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(j),c.Bz]})}return e})();var z=i(617),S=i(1274),$=i(5195),L=i(9109);let R=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[m.ez,w,L.D,z.Ps,u.ot,S.g0,$.QW,r.p0]})}return e})()}}]);